"use strict";(globalThis.webpackChunkhubs=globalThis.webpackChunkhubs||[]).push([[6563],{"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/react-components/popover/ButtonGridPopover.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ButtonGridPopover__button-grid-popover__udJ1S{display:grid;grid-template-columns:repeat(auto-fit, minmax(48px, 1fr));gap:16px;padding:16px}.ButtonGridPopover__button-grid-popover__udJ1S:not(.ButtonGridPopover__fullscreen__kypKC){max-width:224px;padding-top:0}","",{version:3,sources:["webpack://./src/react-components/popover/ButtonGridPopover.scss"],names:[],mappings:"AAGA,+CACE,YAAA,CACA,yDAAA,CACA,QAAA,CACA,YAAA,CAEA,0FACE,eAAA,CACA,aAAA",sourcesContent:['@use "../styles/theme.scss";\n\n\n:local(.button-grid-popover) {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(48px, 1fr));\n  gap: 16px;\n  padding: 16px;\n\n  &:not(:local(.fullscreen)) {\n    max-width: 224px;\n    padding-top: 0;\n  }\n}\n\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"button-grid-popover":"ButtonGridPopover__button-grid-popover__udJ1S",buttonGridPopover:"ButtonGridPopover__button-grid-popover__udJ1S",fullscreen:"ButtonGridPopover__fullscreen__kypKC"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/react-popper-2/lib/esm/usePopper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>usePopper});var react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),popper=__webpack_require__("./node_modules/@popperjs/core/lib/popper.js"),react_fast_compare=__webpack_require__("./node_modules/react-fast-compare/index.js"),react_fast_compare_default=__webpack_require__.n(react_fast_compare),fromEntries=function fromEntries(entries){return entries.reduce(function(acc,_ref){var key=_ref[0],value=_ref[1];return acc[key]=value,acc},{})},useIsomorphicLayoutEffect="undefined"!=typeof window&&window.document&&window.document.createElement?react.useLayoutEffect:react.useEffect,EMPTY_MODIFIERS=[],usePopper=function usePopper(referenceElement,popperElement,options){void 0===options&&(options={});var prevOptions=react.useRef(null),optionsWithDefaults={onFirstUpdate:options.onFirstUpdate,placement:options.placement||"bottom",strategy:options.strategy||"absolute",modifiers:options.modifiers||EMPTY_MODIFIERS},_React$useState=react.useState({styles:{popper:{position:optionsWithDefaults.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),state=_React$useState[0],setState=_React$useState[1],updateStateModifier=react.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function fn(_ref){var state=_ref.state,elements=Object.keys(state.elements);react_dom.flushSync(function(){setState({styles:fromEntries(elements.map(function(element){return[element,state.styles[element]||{}]})),attributes:fromEntries(elements.map(function(element){return[element,state.attributes[element]]}))})})},requires:["computeStyles"]}},[]),popperOptions=react.useMemo(function(){var newOptions={onFirstUpdate:optionsWithDefaults.onFirstUpdate,placement:optionsWithDefaults.placement,strategy:optionsWithDefaults.strategy,modifiers:[].concat(optionsWithDefaults.modifiers,[updateStateModifier,{name:"applyStyles",enabled:!1}])};return react_fast_compare_default()(prevOptions.current,newOptions)?prevOptions.current||newOptions:(prevOptions.current=newOptions,newOptions)},[optionsWithDefaults.onFirstUpdate,optionsWithDefaults.placement,optionsWithDefaults.strategy,optionsWithDefaults.modifiers,updateStateModifier]),popperInstanceRef=react.useRef();return useIsomorphicLayoutEffect(function(){popperInstanceRef.current&&popperInstanceRef.current.setOptions(popperOptions)},[popperOptions]),useIsomorphicLayoutEffect(function(){if(null!=referenceElement&&null!=popperElement){var popperInstance=(options.createPopper||popper.n4)(referenceElement,popperElement,popperOptions);return popperInstanceRef.current=popperInstance,function(){popperInstance.destroy(),popperInstanceRef.current=null}}},[referenceElement,popperElement,options.createPopper]),{state:popperInstanceRef.current?popperInstanceRef.current.state:null,styles:state.styles,attributes:state.attributes,update:popperInstanceRef.current?popperInstanceRef.current.update:null,forceUpdate:popperInstanceRef.current?popperInstanceRef.current.forceUpdate:null}}},"./node_modules/react-use-css-breakpoints/lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{var react=__webpack_require__("./node_modules/react/index.js");exports.P=function useCssBreakpoints(){var _a=react.useState(),state=_a[0],setState=_a[1];return react.useEffect(function(){var mounted=!0,rAF=null,onResize=function(){if(mounted){rAF&&window.cancelAnimationFrame(rAF);var breakpoint=function parseContentPropFromPseudoElement(pseudo,selector){void 0===pseudo&&(pseudo=":before"),void 0===selector&&(selector="body");var el=document.querySelector(selector),content=window.getComputedStyle(el,pseudo).content;return content&&'"normal"'!==content?content.replace(/^["']|["']$/g,""):""}();rAF=window.requestAnimationFrame(function(){return mounted&&setState(breakpoint)})}};return window.addEventListener("resize",onResize,{passive:!0}),onResize(),function(){mounted=!1,rAF=null,window.removeEventListener("resize",onResize)}},[]),state}},"./src/react-components/icons/Desktop.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>SvgDesktop});var _path,_path2,_path3,_path4,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgDesktop=_ref=>{let{title,titleId,...props}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",d:"M17.122 3H2.979C2.328 3 1.8 3.528 1.8 4.179v9.428c0 .651.528 1.179 1.179 1.179h14.143c.65 0 1.178-.528 1.178-1.179V4.18C18.3 3.528 17.772 3 17.122 3Z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"m11.818 17.143-.295-2.358H8.577l-.295 2.357z"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.175 17.142h-8.25"})),_path4||(_path4=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M1.8 11.839v1.768a1.18 1.18 0 0 0 1.179 1.178h14.143a1.18 1.18 0 0 0 1.178-1.178v-1.768zm8.25 2.357a.59.59 0 1 1 0-1.18.59.59 0 0 1 0 1.18"})))}},"./src/react-components/icons/Share.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>SvgShare});var _path,_path2,_path3,_path4,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgShare=_ref=>{let{title,titleId,...props}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.545 4H2.555C1.863 4 1.3 4.562 1.3 5.255v8.115c0 .693.562 1.255 1.256 1.255h14.989c.693 0 1.255-.562 1.255-1.255V5.255C18.8 4.562 18.238 4 17.545 4Z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.5,d:"M5.05 16.502h10"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.697 9.325 10.123 6.75 7.55 9.325"})),_path4||(_path4=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.123 11.416V6.75"})))}},"./src/react-components/icons/Video.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>SvgVideo});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgVideo=_ref=>{let{title,titleId,...props}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m14.64 12.061 3.231 2.275a.625.625 0 0 0 .879-.572v-7.53a.625.625 0 0 0-.879-.57l-3.23 2.274a.63.63 0 0 0-.266.51v3.102a.62.62 0 0 0 .265.511"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeMiterlimit:10,strokeWidth:1.5,d:"M10.469 14.999H3.28a2.037 2.037 0 0 1-2.031-2.032V7.03a2.037 2.037 0 0 1 2.031-2.031h7.207A2.02 2.02 0 0 1 12.5 7.01v5.956a2.037 2.037 0 0 1-2.031 2.031Z"})))}},"./src/react-components/popover/ButtonGridPopover.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>ButtonGridPopover_ButtonGridPopover});__webpack_require__("./node_modules/react/index.js");var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ToolbarButton=__webpack_require__("./src/react-components/input/ToolbarButton.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ButtonGridPopover=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/react-components/popover/ButtonGridPopover.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ButtonGridPopover.A,options);const popover_ButtonGridPopover=ButtonGridPopover.A&&ButtonGridPopover.A.locals?ButtonGridPopover.A.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ButtonGridPopover_ButtonGridPopover({fullscreen,items,closePopover}){return(0,jsx_runtime.jsx)("div",{className:classnames_default()(popover_ButtonGridPopover.buttonGridPopover,{[popover_ButtonGridPopover.fullscreen]:fullscreen}),children:items.map(item=>{const Icon=item.icon;return(0,jsx_runtime.jsx)(ToolbarButton.IB,{icon:(0,jsx_runtime.jsx)(Icon,{}),preset:item.color,onClick:()=>{item.onSelect&&item.onSelect(item),closePopover()},label:item.label,selected:item.selected},item.id)})})}ButtonGridPopover_ButtonGridPopover.propTypes={fullscreen:prop_types_default().bool,items:prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().string.isRequired,icon:prop_types_default().elementType.isRequired,color:prop_types_default().string,label:prop_types_default().element.isRequired,onSelect:prop_types_default().func})).isRequired,closePopover:prop_types_default().func.isRequired},ButtonGridPopover_ButtonGridPopover.__docgenInfo={description:"",methods:[],displayName:"ButtonGridPopover",props:{fullscreen:{description:"",type:{name:"bool"},required:!1},items:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},icon:{name:"elementType",required:!0},color:{name:"string",required:!1},label:{name:"element",required:!0},onSelect:{name:"func",required:!1}}}},required:!0},closePopover:{description:"",type:{name:"func"},required:!0}}}},"./src/react-components/room/SharePopover.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Active:()=>Active,Base:()=>Base,Mobile:()=>Mobile,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SharePopover_stories});__webpack_require__("./node_modules/react/index.js");var RoomLayout=__webpack_require__("./src/react-components/layout/RoomLayout.js"),Video=__webpack_require__("./src/react-components/icons/Video.svg"),Desktop=__webpack_require__("./src/react-components/icons/Desktop.svg"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),ButtonGridPopover=__webpack_require__("./src/react-components/popover/ButtonGridPopover.js"),Popover=__webpack_require__("./src/react-components/popover/Popover.js"),ToolbarButton=__webpack_require__("./src/react-components/input/ToolbarButton.js"),Share=__webpack_require__("./src/react-components/icons/Share.svg"),lib=__webpack_require__("./node_modules/react-intl/lib/index.js"),useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),esm=__webpack_require__("./node_modules/@mozilla/lilypad-ui/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const shareTooltipDescription=(0,lib.zR)({id:"share-tooltip.description",defaultMessage:"Display your screen or webcam as an object in the room"}),sharePopoverTitle=(0,lib.zR)({id:"share-popover.title",defaultMessage:"Share"});function SharePopoverButton({items}){const intl=(0,useIntl.A)(),title=intl.formatMessage(sharePopoverTitle),description=intl.formatMessage(shareTooltipDescription),filteredItems=items.filter(item=>!!item);if(0===filteredItems.length)return null;const activeItem=filteredItems.find(item=>item.active);if(1===filteredItems.length||activeItem){const item=filteredItems[0],Icon=item.icon;return(0,jsx_runtime.jsx)(ToolbarButton.IB,{icon:(0,jsx_runtime.jsx)(Icon,{}),onClick:()=>{item.onSelect&&item.onSelect(item)},label:title,preset:"accent5",statusColor:activeItem&&"recording"})}return(0,jsx_runtime.jsx)(Popover.A,{title,content:props=>(0,jsx_runtime.jsx)(ButtonGridPopover.i,{items:filteredItems,...props}),placement:"top",offsetDistance:28,disableFullscreen:!0,children:({togglePopover,popoverVisible,triggerRef})=>(0,jsx_runtime.jsx)(esm.wV,{description,children:(0,jsx_runtime.jsx)(ToolbarButton.IB,{ref:triggerRef,icon:(0,jsx_runtime.jsx)(Share.h,{}),selected:popoverVisible,onClick:togglePopover,label:title,preset:"accent5"})})})}SharePopoverButton.propTypes={items:prop_types_default().array.isRequired},SharePopoverButton.__docgenInfo={description:"",methods:[],displayName:"SharePopoverButton",props:{items:{description:"",type:{name:"array"},required:!0}}};const SharePopover_stories={title:"Room/SharePopover",parameters:{layout:"fullscreen"}},items=[{id:"camera",icon:Video.h,color:"accent5",label:"Camera"},{id:"screen",icon:Desktop.h,color:"accent5",label:"Screen"}],Base=()=>(0,jsx_runtime.jsx)(RoomLayout.k,{toolbarCenter:(0,jsx_runtime.jsx)(SharePopoverButton,{items})}),Mobile=()=>(0,jsx_runtime.jsx)(RoomLayout.k,{toolbarCenter:(0,jsx_runtime.jsx)(SharePopoverButton,{items:[items[0]]})}),activeItems=[{id:"camera",icon:Video.h,color:"accent5",label:"Camera",active:!0},{id:"screen",icon:Desktop.h,color:"accent5",label:"Screen"}],Active=()=>(0,jsx_runtime.jsx)(RoomLayout.k,{toolbarCenter:(0,jsx_runtime.jsx)(SharePopoverButton,{items:activeItems})}),__namedExportsOrder=["Base","Mobile","Active"];Base.parameters={...Base.parameters,docs:{...Base.parameters?.docs,source:{originalSource:"() => <RoomLayout toolbarCenter={<SharePopoverButton items={items} />} />",...Base.parameters?.docs?.source}}},Mobile.parameters={...Mobile.parameters,docs:{...Mobile.parameters?.docs,source:{originalSource:"() => <RoomLayout toolbarCenter={<SharePopoverButton items={[items[0]]} />} />",...Mobile.parameters?.docs?.source}}},Active.parameters={...Active.parameters,docs:{...Active.parameters?.docs,source:{originalSource:"() => <RoomLayout toolbarCenter={<SharePopoverButton items={activeItems} />} />",...Active.parameters?.docs?.source}}}}}]);